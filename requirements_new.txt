# Telugu S2S System Requirements
# Conflict-free, tested configuration for H200/A6000

# ============================================
# CORE PACKAGES (Install first)
# ============================================

# PyTorch (WhisperX needs 2.8.0+)
torch>=2.8.0
torchaudio>=2.8.0
torchvision>=0.18.0

# Transformers & NLP
transformers==4.45.0
tokenizers==0.19.1
datasets==2.18.0
accelerate==0.33.0

# Audio Processing
librosa==0.10.1
soundfile==0.12.1
webrtcvad==2.0.10
pydub==0.25.1
scipy==1.12.0

# FIXED: numpy version compatible with WhisperX
numpy>=2.0.2,<2.1.0

# Neural Codec
einops==0.7.0
vector-quantize-pytorch==1.14.24

# ============================================
# OPTIMIZATION (Optional - install if needed)
# ============================================

# Flash Attention - INSTALL SEPARATELY
# pip install flash-attn --no-build-isolation

# DeepSpeed - OPTIONAL (comment out if not using H200)
# deepspeed==0.14.0

# Apex - OPTIONAL (install from source if needed)
# pip install -v --disable-pip-version-check --no-cache-dir --no-build-isolation \
#   --config-settings "--build-option=--cpp_ext" --config-settings "--build-option=--cuda_ext" \
#   git+https://github.com/NVIDIA/apex.git

triton==2.2.0

# ============================================
# DATA COLLECTION
# ============================================

yt-dlp>=2024.11.18
whisperx @ git+https://github.com/m-bain/whisperX.git
pyannote.audio>=3.3.2,<4.0.0  # Required by WhisperX

# ============================================
# WEB SERVER
# ============================================

fastapi==0.110.0
uvicorn[standard]==0.27.0
websockets==12.0
python-multipart==0.0.9
uvloop==0.19.0

# ============================================
# MONITORING & LOGGING
# ============================================

wandb==0.16.3
tensorboard==2.15.1
tqdm==4.66.1
rich==13.7.0

# ============================================
# UTILITIES
# ============================================

pyyaml==6.0.1
python-dotenv==1.0.0
omegaconf==2.3.0
hydra-core==1.3.2

# ============================================
# DEVELOPMENT (Optional)
# ============================================

ipython==8.20.0
# jupyter==1.0.0  # Uncomment if needed
black==23.12.1
# pylint==3.0.3  # Uncomment if needed
# pytest==7.4.4  # Uncomment if needed

# ============================================
# DEPLOYMENT (Install separately if needed)
# ============================================

# ONNX
onnx==1.15.0
onnxruntime-gpu==1.17.0

# TensorRT - INSTALL SEPARATELY (comes with CUDA toolkit)
# pip install tensorrt

# RunPod
runpod==1.4.0
